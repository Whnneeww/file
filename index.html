<!DOCTYPE html>
<html>
<head>
  <title>ファイル共有サイト</title>
</head>
<body>
  <h1>ファイル共有サイト</h1>
  <form action="upload" method="post" enctype="multipart/form-data">
    <input type="file" name="file" required>
    <input type="submit" value="アップロード">
  </form>
  <br>
  <h2>アップロードされたファイル:</h2>
  <ul>
    <!-- サーバーからのファイル一覧を表示するためのスクリプト -->
    <script>
      fetch('/files')
        .then(response => response.json())
        .then(data => {
          data.forEach(file => {
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            link.href = '/download?file=' + file;
            link.textContent = file;
            listItem.appendChild(link);
            document.querySelector('ul').appendChild(listItem);
          });
        });
    </script>
  </ul>
</body>
</html>
